<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TempMail - Disposable Email for Devs</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Generate disposable email addresses instantly. Built for developers.">
    <meta name="keywords" content="temporary email, disposable email, temp mail, email generator, developer tools">
    <meta name="author" content="TempMail">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="/">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="TempMail - Disposable Email for Devs">
    <meta property="og:description" content="Generate disposable email addresses instantly. Built for developers.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/">
    <meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='4' width='20' height='16' rx='2'/%3E%3Cpolyline points='2 10 12 14 22 10'/%3E%3Cline x1='6' y1='8' x2='10' y2='12'/%3E%3Cline x1='14' y1='12' x2='18' y2='8'/%3E%3C/svg%3E">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TempMail - Disposable Email for Devs">
    <meta name="twitter:description" content="Generate disposable email addresses instantly. Built for developers.">
    <meta name="twitter:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='4' width='20' height='16' rx='2'/%3E%3Cpolyline points='2 10 12 14 22 10'/%3E%3Cline x1='6' y1='8' x2='10' y2='12'/%3E%3Cline x1='14' y1='12' x2='18' y2='8'/%3E%3C/svg%3E">

    <!-- Favicon (Inline SVG) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='4' width='20' height='16' rx='2'/%3E%3Cpolyline points='2 10 12 14 22 10'/%3E%3Cline x1='6' y1='8' x2='10' y2='12'/%3E%3Cline x1='14' y1='12' x2='18' y2='8'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='4' width='20' height='16' rx='2'/%3E%3Cpolyline points='2 10 12 14 22 10'/%3E%3Cline x1='6' y1='8' x2='10' y2='12'/%3E%3Cline x1='14' y1='12' x2='18' y2='8'/%3E%3C/svg%3E">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');

        // Analytics event tracking functions
        function trackEmailGeneration() {
            gtag('event', 'email_generated', {
                'event_category': 'user_action',
                'event_label': 'new_temp_email'
            });
        }

        function trackEmailCheck() {
            gtag('event', 'check_emails', {
                'event_category': 'user_action',
                'event_label': 'check_inbox'
            });
        }

        function trackEmailCopy() {
            gtag('event', 'email_copied', {
                'event_category': 'user_action',
                'event_label': 'copy_to_clipboard'
            });
        }

        // Add event listener for sidebar toggle
        document.addEventListener('DOMContentLoaded', function() {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            
            if (sidebarToggle && sidebar) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('hidden');
                });
            }

            // Hide sidebar by default on small screens
            function checkScreenSize() {
                if (window.innerWidth < 1024 && sidebar) { // 1024px is the 'lg' breakpoint in Tailwind
                    sidebar.classList.add('hidden');
                } else if (sidebar) {
                    sidebar.classList.remove('hidden');
                }
            }

            // Run on load
            checkScreenSize();

            // Run on resize
            window.addEventListener('resize', checkScreenSize);
        });
    </script>

    <!-- Tailwind CSS Production CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <style>
        .loading-spinner {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border-radius: 9999px;
            border: 2px solid currentColor;
            border-right-color: transparent;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
        @media (prefers-reduced-motion: reduce) {
            .loading-spinner {
                animation: spin 1.5s linear infinite;
            }
        }
    </style>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- HTML Entity Decoder -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js"></script>
    <!-- Fira Code Font -->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS (for tooltips and modal) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="flex min-h-screen bg-gray-900 overflow-hidden items-center justify-center">
        <div class="container max-w-4xl mx-auto p-6">
            <div class="flex justify-center">
                <!-- Main Card -->
                <div id="mainCard" class="w-full bg-gray-800 rounded-lg flex flex-col border border-white overflow-hidden shadow-2xl">
                    <!-- Header Section with About Banner -->
                    <div class="relative">
                        <div id="headerSection" class="bg-gray-900 p-6 text-center cursor-pointer hover:bg-gray-800 transition-colors duration-200">
                            <h1 id="titleText" class="text-2xl font-bold text-white">TempMail</h1>
                            <p id="subtitleText" class="text-gray-100">Disposable Email for Devs</p>
                        </div>
                        
                        <!-- About Banner -->
                        <div id="aboutBanner" class="hidden absolute left-0 right-0 top-full mt-2 bg-gray-800 rounded-lg p-6 border border-white z-50 shadow-lg mx-4">
                            <h2 id="aboutTitle" class="text-xl font-bold text-white mb-4">About TempMail</h2>
                            <p class="text-gray-100 mb-4">Your ultimate developer companion for email testing. TempMail provides instant, secure disposable email addresses powered by the robust mail.tm API. Perfect for development, testing, and protecting your primary inbox.</p>
                            <ul class="list-none">
                                <li class="mb-2"><i class="fas fa-code text-blue-200 mr-2"></i><span class="text-gray-100">Built for developers, by developers</span></li>
                                <li class="mb-2"><i class="fas fa-server text-blue-200 mr-2"></i><span class="text-gray-100">Reliable mail.tm API integration</span></li>
                                <li class="mb-2"><i class="fas fa-shield-alt text-blue-200 mr-2"></i><span class="text-gray-100">Zero-trust security design</span></li>
                                <li class="mb-2"><i class="fas fa-database text-blue-200 mr-2"></i><span class="text-gray-100">Client-side storage for privacy</span></li>
                            </ul>
                            <h3 class="text-lg font-semibold text-white mt-4 mb-3">Developer Features</h3>
                            <div class="grid grid-cols-2 gap-2">
                                <ul class="list-none">
                                    <li class="mb-2"><i class="fas fa-tachometer-alt text-blue-200 mr-2"></i><span class="text-gray-100">Real-time Updates</span></li>
                                    <li class="mb-2"><i class="fas fa-terminal text-blue-200 mr-2"></i><span class="text-gray-100">API Testing Ready</span></li>
                                    <li class="mb-2"><i class="fas fa-box text-blue-200 mr-2"></i><span class="text-gray-100">Multiple Mailboxes</span></li>
                                </ul>
                                <ul class="list-none">
                                    <li class="mb-2"><i class="fas fa-keyboard text-blue-200 mr-2"></i><span class="text-gray-100">Keyboard Shortcuts</span></li>
                                    <li class="mb-2"><i class="fas fa-clock text-blue-200 mr-2"></i><span class="text-gray-100">Auto-refresh</span></li>
                                    <li class="mb-2"><i class="fas fa-mobile-alt text-blue-200 mr-2"></i><span class="text-gray-100">Responsive Design</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Main Content -->
                    <div class="p-6 flex-grow flex flex-col overflow-y-auto">
                        <!-- Email Generation Section -->
                        <div class="mb-4">
                            <div id="emailControls" class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                <button id="generateEmailBtn" class="bg-green-600 hover:bg-green-700 text-gray-100 py-2 rounded-lg transition" onclick="generateEmail()" data-bs-toggle="tooltip" data-bs-placement="top" title="">
                                    <i class="fas fa-plus-circle mr-2"></i>Generate Email
                                </button>
                                <select class="form-select bg-gray-900 text-gray-100 border-gray-600 rounded-lg py-2" id="mailboxSelector" onchange="switchMailbox()">
                                    <option value="">Select Mailbox</option>
                                </select>
                            </div>
                            <p id="mailboxInfo" class="text-gray-100 text-sm mt-2"><i class="fas fa-info-circle mr-1"></i>Mailboxes saved locally in browser</p>
                        </div>

                        <!-- Current Email Display -->
                        <div id="currentEmailSection" class="hidden flex-grow">
                            <div id="emailHeader" class="flex justify-between items-center mb-3">
                                <h5 id="currentEmailTitle" class="text-lg font-semibold text-white"><i class="fas fa-inbox mr-2"></i>Current Email</h5>
                                <div id="emailActions" class="flex gap-2">
                                    <button id="copyEmailBtn" class="bg-green-600 hover:bg-green-700 text-gray-100 py-1 px-3 rounded-md" onclick="copyEmail()" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy to clipboard">
                                        <i class="fas fa-copy mr-1"></i>Copy
                                    </button>
                                    <button id="deleteMailboxBtn" class="bg-red-600 hover:bg-red-700 text-gray-100 py-1 px-3 rounded-md" onclick="deleteMailbox()" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete mailbox">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="bg-gray-900 border border-white rounded-lg p-4 text-green-400 cursor-pointer hover:bg-blue-600/20 transition" id="emailDisplay" onclick="copyEmail()" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to copy email">
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-envelope mr-2 text-gray-100"></i>
                                    <span>No email generated</span>
                                </div>
                            </div>

                            <div class="text-center mb-4">
                                <div id="refreshControls" class="flex gap-2 justify-center mt-6">
                                    <button class="bg-blue-600 hover:bg-blue-700 text-gray-100 py-2 px-4 rounded-lg transition" id="refreshBtn" onclick="checkEmails()" data-bs-toggle="tooltip" data-bs-placement="top" title="Check emails">
                                        <i class="fas fa-sync-alt mr-2"></i>Refresh
                                    </button>
                                    <button class="bg-gray-600 hover:bg-gray-500 text-gray-100 py-2 px-4 rounded-lg transition" onclick="toggleAutoRefresh()" id="autoRefreshBtn" data-bs-toggle="tooltip" data-bs-placement="top" title="Toggle auto-refresh">
                                        <i class="fas fa-clock mr-2"></i>Auto-Refresh: OFF
                                    </button>
                                </div>
                                <p id="copyHint" class="text-gray-100 text-sm mt-2"><i class="fas fa-lightbulb mr-1"></i>Click email to copy instantly</p>
                            </div>
                        </div>

                        <!-- Email List -->
                        <div id="emailList" class="hidden flex flex-col">
                            <div id="inboxHeader" class="flex justify-between items-center mb-3">
                                <h5 id="inboxTitle" class="text-lg font-semibold text-white"><i class="fas fa-envelope-open mr-2"></i>Inbox (<span id="emailCount">0</span>)</h5>
                                <button id="clearEmailsBtn" class="bg-gray-600 hover:bg-gray-500 text-gray-100 py-1 px-3 rounded-md" onclick="clearAllEmails()" data-bs-toggle="tooltip" data-bs-placement="top" title="Clear all emails">
                                    <i class="fas fa-broom mr-1"></i>Clear
                                </button>
                            </div>
                            <div id="emails" class="overflow-y-auto flex-1"></div>
                            <div id="emptyInbox" class="text-center py-4 hidden">
                                <div class="flex justify-center mb-4">
                                    <svg width="92" height="94" viewBox="0 0 92 87" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M26 54.37V38.9C26.003 37.125 26.9469 35.4846 28.48 34.59L43.48 25.84C45.027 24.9468 46.933 24.9468 48.48 25.84L63.48 34.59C65.0285 35.4745 65.9887 37.1167 66 38.9V54.37C66 57.1314 63.7614 59.37 61 59.37H31C28.2386 59.37 26 57.1314 26 54.37Z" fill="#8C92A5"/>
                                        <path d="M46 47.7L26.68 36.39C26.2325 37.1579 25.9978 38.0312 26 38.92V54.37C26 57.1314 28.2386 59.37 31 59.37H61C63.7614 59.37 66 57.1314 66 54.37V38.9C66.0022 38.0112 65.7675 37.1379 65.32 36.37L46 47.7Z" fill="#CDCDD8"/>
                                        <path d="M27.8999 58.27C28.7796 58.9758 29.8721 59.3634 30.9999 59.37H60.9999C63.7613 59.37 65.9999 57.1314 65.9999 54.37V38.9C65.9992 38.0287 65.768 37.1731 65.3299 36.42L27.8999 58.27Z" fill="#E5E5F0"/>
                                        <path class="emptyInboxRotation" d="M77.8202 29.21L89.5402 25.21C89.9645 25.0678 90.4327 25.1942 90.7277 25.5307C91.0227 25.8673 91.0868 26.348 90.8902 26.75L87.0002 34.62C86.8709 34.8874 86.6407 35.0924 86.3602 35.19C86.0798 35.2806 85.7751 35.2591 85.5102 35.13L77.6502 31.26C77.2436 31.0643 76.9978 30.6401 77.0302 30.19C77.0677 29.7323 77.3808 29.3438 77.8202 29.21Z" fill="#E5E5F0"/>
                                        <path class="emptyInboxRotation" d="M5.12012 40.75C6.36707 20.9791 21.5719 4.92744 41.2463 2.61179C60.9207 0.296147 79.4368 12.3789 85.2401 31.32" stroke="#E5E5F0" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path class="emptyInboxRotation" d="M14.18 57.79L2.46001 61.79C2.03313 61.9358 1.56046 61.8088 1.2642 61.4686C0.967927 61.1284 0.906981 60.6428 1.11001 60.24L5.00001 52.38C5.12933 52.1127 5.35954 51.9076 5.64001 51.81C5.92044 51.7194 6.22508 51.7409 6.49001 51.87L14.35 55.74C14.7224 55.9522 14.9394 56.36 14.9073 56.7874C14.8753 57.2149 14.5999 57.5857 14.2 57.74L14.18 57.79Z" fill="#E5E5F0"/>
                                        <path class="emptyInboxRotation" d="M86.9998 45.8C85.9593 65.5282 70.9982 81.709 51.4118 84.2894C31.8254 86.8697 13.1841 75.1156 7.06982 56.33" stroke="#E5E5F0" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <p id="emptyInboxText" class="text-gray-100">No emails found</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Refresh Animation Overlay -->
    <div class="hidden fixed inset-0 bg-gray-900/90 flex items-center justify-center" id="refreshOverlay">
        <div class="text-gray-100 text-center">
            <p class="text-xl animate-pulse">Checking emails...</p>
        </div>
    </div>

    <!-- Email Content Modal -->
    <div class="modal fade" id="emailModal" tabindex="-1" aria-labelledby="emailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content bg-gray-800 border border-white rounded-lg">
                <div class="modal-header bg-gray-900 text-white rounded-t-lg border-b border-white">
                    <h5 class="modal-title" id="emailModalLabel"><i class="fas fa-envelope-open mr-2"></i>Email Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body bg-gray-900 p-6">
                    <div class="mb-3">
                        <strong class="text-blue-200">From:</strong> <span id="modalFrom" class="text-gray-100"></span>
                    </div>
                    <div class="mb-3">
                        <strong class="text-blue-200">Subject:</strong> <span id="modalSubject" class="text-gray-100"></span>
                    </div>
                    <div class="mb-3">
                        <strong class="text-blue-200">Date:</strong> <span id="modalDate" class="text-gray-100"></span>
                    </div>
                    <div class="mb-3">
                        <strong class="text-blue-200">Content:</strong>
                        <div id="modalContent" class="bg-gray-900 p-4 rounded-lg border border-white max-h-[400px] overflow-y-auto text-gray-100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Main Application JavaScript -->
    <script src="js/tempmail.js"></script>
    <script>
        // Initialize application after all dependencies are loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create TempMail instance
            window.tempMail = new TempMail();

            // Set up global functions
            window.generateEmail = () => window.tempMail.generateEmail();
            window.checkEmails = () => window.tempMail.checkEmails();
            window.copyEmail = () => window.tempMail.copyEmail();
            window.toggleAutoRefresh = () => window.tempMail.toggleAutoRefresh();
            window.switchMailbox = () => window.tempMail.switchMailbox();
            window.deleteMailbox = () => window.tempMail.deleteMailbox();
            window.clearAllEmails = () => window.tempMail.clearAllEmails();

            // Handle sidebar toggle
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            
            if (sidebarToggle && sidebar) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('hidden');
                });
            }

            // Hide sidebar by default on small screens
            function checkScreenSize() {
                if (window.innerWidth < 1024 && sidebar) {
                    sidebar.classList.add('hidden');
                } else if (sidebar) {
                    sidebar.classList.remove('hidden');
                }
            }

            // Run on load
            checkScreenSize();

            // Run on resize
            window.addEventListener('resize', checkScreenSize);
        });
    </script>
</body>
</html>